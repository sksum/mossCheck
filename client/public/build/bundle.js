var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}let h;function m(t){h=t}function y(){if(!h)throw new Error("Function called outside component initialization");return h}const v=[],$=[],b=[],_=[],x=Promise.resolve();let C=!1;function w(t){b.push(t)}let k=!1;const E=new Set;function T(){if(!k){k=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];m(e),O(e.$$)}for(m(null),v.length=0;$.length;)$.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];E.has(e)||(E.add(e),e())}b.length=0}while(v.length);for(;_.length;)_.pop()();C=!1,k=!1,E.clear()}}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const L=new Set;function S(t,e){t&&t.i&&(L.delete(t),t.i(e))}function B(t,e,n,o){if(t&&t.o){if(L.has(t))return;L.add(t),undefined.c.push((()=>{L.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function N(t){t&&t.c()}function A(t,n,l){const{fragment:s,on_mount:i,on_destroy:a,after_update:c}=t.$$;s&&s.m(n,l),w((()=>{const n=i.map(e).filter(r);a?a.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(w)}function D(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(v.push(t),C||(C=!0,x.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,r,l,s,i,c,u=[-1]){const d=h;m(e);const f=r.props||{},p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let g=!1;if(p.ctx=l?l(e,f,((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),g&&j(e,t)),n})):[],p.update(),g=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&S(e.$$.fragment),A(e,r.target,r.anchor),T()}m(d)}class R{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(e){let n,l,u,h,m,y,v,$,b,_,x,C,k,E,T,O,L,S,B,N;return{c(){n=c("div"),l=c("label"),l.textContent="userID",u=d(),h=c("input"),m=d(),y=c("form"),v=c("label"),v.textContent="Choose a Language:",$=d(),b=c("select"),_=c("option"),_.textContent="C++",x=c("option"),x.textContent="C",C=c("option"),C.textContent="Javascript",k=c("option"),k.textContent="Python",E=c("option"),E.textContent="Java",T=c("option"),T.textContent="Haskell",O=c("option"),O.textContent="Fortran",L=c("option"),L.textContent="C#",S=c("option"),S.textContent="Visual Basic",p(l,"for","userID"),p(l,"class","svelte-1kfk87c"),p(h,"type","number"),p(h,"id","userID"),p(h,"name","userID"),p(h,"min","0"),p(v,"for","language"),p(v,"class","svelte-1kfk87c"),_.__value="cc",_.value=_.__value,x.__value="c",x.value=x.__value,C.__value="js",C.value=C.__value,k.__value="py",k.value=k.__value,E.__value="java",E.value=E.__value,T.__value="haskell",T.value=T.__value,O.__value="fortran",O.value=O.__value,L.__value="csharp",L.value=L.__value,S.__value="vb",S.value=S.__value,p(b,"id","language"),p(b,"name","language"),void 0===e[1]&&w((()=>e[2].call(b))),p(y,"action","/action_page.php"),p(n,"class","svelte-1kfk87c")},m(t,o){i(t,n,o),s(n,l),s(n,u),s(n,h),s(n,m),s(n,y),s(y,v),s(y,$),s(y,b),s(b,_),s(b,x),s(b,C),s(b,k),s(b,E),s(b,T),s(b,O),s(b,L),s(b,S),g(b,e[1]),B||(N=[f(b,"change",e[2]),f(b,"change",e[3]),f(y,"submit",(function(){r(e[0])&&e[0].apply(this,arguments)}))],B=!0)},p(t,[n]){e=t,2&n&&g(b,e[1])},i:t,o:t,d(t){t&&a(n),B=!1,o(N)}}}function M(t,e,n){let o,{callBack:r}=e;return t.$$set=t=>{"callBack"in t&&n(0,r=t.callBack)},[r,o,function(){o=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(1,o)},t=>r(t,o)]}class F extends R{constructor(t){super(),I(this,t,M,H,l,{callBack:0})}}function K(t,e={}){const n=Object.assign({class:"codejar-linenumbers",wrapClass:"codejar-wrap",width:"35px",backgroundColor:"rgba(128, 128, 128, 0.15)",color:""},e);let o;return function(e){t(e),o||(o=function(t,e){const n=getComputedStyle(t),o=document.createElement("div");o.className=e.wrapClass,o.style.position="relative";const r=document.createElement("div");r.className=e.class,o.appendChild(r),r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.bottom="0px",r.style.width=e.width,r.style.overflow="hidden",r.style.backgroundColor=e.backgroundColor,r.style.color=e.color||n.color,r.style.setProperty("mix-blend-mode","difference"),r.style.fontFamily=n.fontFamily,r.style.fontSize=n.fontSize,r.style.lineHeight=n.lineHeight,r.style.paddingTop=n.paddingTop,r.style.paddingLeft=n.paddingLeft,r.style.borderTopLeftRadius=n.borderTopLeftRadius,r.style.borderBottomLeftRadius=n.borderBottomLeftRadius;const l=document.createElement("div");return l.style.position="relative",l.style.top="0px",r.appendChild(l),t.style.paddingLeft=`calc(${e.width} + ${r.style.paddingLeft})`,t.style.whiteSpace="pre",t.parentNode.insertBefore(o,t),o.appendChild(t),l}(e,n),e.addEventListener("scroll",(()=>o.style.top=`-${e.scrollTop}px`)));const r=(e.textContent||"").replace(/\n+$/,"\n").split("\n").length+1;let l="";for(let t=1;t<r;t++)l+=t+"\n";o.innerText=l}}function P(t,e,n={}){const o=Object.assign({tab:"\t",indentOn:/{$/,spellcheck:!1,addClosing:!0},n);let r,l,s=[],i=[],a=-1,c=!1,u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;t.setAttribute("contentEditable",u?"true":"plaintext-only"),t.setAttribute("spellcheck",o.spellcheck?"true":"false"),t.style.outline="none",t.style.overflowWrap="break-word",t.style.overflowY="auto",t.style.resize="vertical",t.style.whiteSpace="pre-wrap",e(t);const d=E((()=>{const n=m();e(t),y(n)}),30);let f=!1;const p=t=>!C(t)&&!w(t)&&"Meta"!==t.key&&"Control"!==t.key&&"Alt"!==t.key&&!t.key.startsWith("Arrow"),g=E((t=>{p(t)&&(b(),f=!1)}),300),h=(e,n)=>{s.push([e,n]),t.addEventListener(e,n)};function m(){const e=window.getSelection(),n={start:0,end:0,dir:void 0};return _(t,(t=>{if(t===e.anchorNode&&t===e.focusNode)return n.start+=e.anchorOffset,n.end+=e.focusOffset,n.dir=e.anchorOffset<=e.focusOffset?"->":"<-","stop";if(t===e.anchorNode){if(n.start+=e.anchorOffset,n.dir)return"stop";n.dir="->"}else if(t===e.focusNode){if(n.end+=e.focusOffset,n.dir)return"stop";n.dir="<-"}t.nodeType===Node.TEXT_NODE&&("->"!=n.dir&&(n.start+=t.nodeValue.length),"<-"!=n.dir&&(n.end+=t.nodeValue.length))})),n}function y(e){const n=window.getSelection();let o,r,l=0,s=0;if(e.dir||(e.dir="->"),e.start<0&&(e.start=0),e.end<0&&(e.end=0),"<-"==e.dir){const{start:t,end:n}=e;e.start=n,e.end=t}let i=0;_(t,(t=>{if(t.nodeType!==Node.TEXT_NODE)return;const n=(t.nodeValue||"").length;if(i+n>=e.start&&(o||(o=t,l=e.start-i),i+n>=e.end))return r=t,s=e.end-i,"stop";i+=n})),o||(o=t),r||(r=t),"<-"==e.dir&&([o,l,r,s]=[r,s,o,l]),n.setBaseAndExtent(o,l,r,s)}function v(){const e=window.getSelection().getRangeAt(0),n=document.createRange();return n.selectNodeContents(t),n.setEnd(e.startContainer,e.startOffset),n.toString()}function $(){const e=window.getSelection().getRangeAt(0),n=document.createRange();return n.selectNodeContents(t),n.setStart(e.endContainer,e.endOffset),n.toString()}function b(){if(!c)return;const e=t.innerHTML,n=m(),o=i[a];if(o&&o.html===e&&o.pos.start===n.start&&o.pos.end===n.end)return;a++,i[a]={html:e,pos:n},i.splice(a+1);a>300&&(a=300,i.splice(0,1))}function _(t,e){const n=[];t.firstChild&&n.push(t.firstChild);let o=n.pop();for(;o&&"stop"!==e(o);)o.nextSibling&&n.push(o.nextSibling),o.firstChild&&n.push(o.firstChild),o=n.pop()}function x(t){return t.metaKey||t.ctrlKey}function C(t){return x(t)&&!t.shiftKey&&"KeyZ"===t.code}function w(t){return x(t)&&t.shiftKey&&"KeyZ"===t.code}function k(t){t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),document.execCommand("insertHTML",!1,t)}function E(t,e){let n=0;return(...o)=>{clearTimeout(n),n=window.setTimeout((()=>t(...o)),e)}}function T(t){let e=t.length-1;for(;e>=0&&"\n"!==t[e];)e--;e++;let n=e;for(;n<t.length&&/[ \t]/.test(t[n]);)n++;return[t.substring(e,n)||"",e,n]}function O(){return t.textContent||""}function L(t){t.preventDefault()}return h("keydown",(e=>{e.defaultPrevented||(l=O(),function(t){if("Enter"===t.key){const e=v(),n=$();let[r]=T(e),l=r;if(o.indentOn.test(e)&&(l+=o.tab),(u||l.length>0)&&(L(t),k("\n"+l)),l!==r&&"}"===n[0]){const t=m();k("\n"+r),y(t)}}}(e),function(t){if("Tab"===t.key)if(L(t),t.shiftKey){const t=v();let[e,n]=T(t);if(e.length>0){const t=m(),r=Math.min(o.tab.length,e.length);y({start:n,end:n+r}),document.execCommand("delete"),t.start-=r,t.end-=r,y(t)}}else k(o.tab)}(e),o.addClosing&&function(t){const e="([{'\"",n=")]}'\"",o=$();if(n.includes(t.key)&&o.substr(0,1)===t.key){const e=m();L(t),e.start=++e.end,y(e)}else if(e.includes(t.key)){const o=m();L(t);k(t.key+n[e.indexOf(t.key)]),o.start=++o.end,y(o)}}(e),function(e){if(C(e)){L(e),a--;const n=i[a];n&&(t.innerHTML=n.html,y(n.pos)),a<0&&(a=0)}if(w(e)){L(e),a++;const n=i[a];n&&(t.innerHTML=n.html,y(n.pos)),a>=i.length&&a--}}(e),p(e)&&!f&&(b(),f=!0))})),h("keyup",(t=>{t.defaultPrevented||t.isComposing||(l!==O()&&d(),g(t),r&&r(O()))})),h("focus",(t=>{c=!0})),h("blur",(t=>{c=!1})),h("paste",(n=>{b(),function(n){L(n);const o=(n.originalEvent||n).clipboardData.getData("text/plain"),r=m();k(o),e(t),y({start:r.end+o.length,end:r.end+o.length})}(n),b(),r&&r(O())})),{updateOptions(t){t=Object.assign(Object.assign({},t),t)},updateCode(n){t.textContent=n,e(t)},onUpdate(t){r=t},toString:O,destroy(){for(let[e,n]of s)t.removeEventListener(e,n)}}}function z(e){let n,r,l,g,h,m,y,v,$,b=e[0][6]+"";return{c(){n=c("div"),r=u('const hello = "world-'),l=u(b),g=u('";\n/*Drop File Here*/'),m=d(),y=c("button"),y.textContent="Download",p(n,"id",e[0]),p(n,"class",h="editor lang-"+e[1]+" svelte-hgm5s0"),p(y,"id","download")},m(t,o){i(t,n,o),s(n,r),s(n,l),s(n,g),e[6](n),i(t,m,o),i(t,y,o),v||($=[f(n,"drop",e[4]),f(n,"dragover",J),f(y,"click",e[7])],v=!0)},p(t,[e]){1&e&&b!==(b=t[0][6]+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(l,b),1&e&&p(n,"id",t[0]),2&e&&h!==(h="editor lang-"+t[1]+" svelte-hgm5s0")&&p(n,"class",h)},i:t,o:t,d(t){t&&a(n),e[6](null),t&&a(m),t&&a(y),v=!1,o($)}}}function J(t){t.preventDefault()}function V(t,e,n){let o,r,l,{id:s}=e,{lang:i}=e;const a=t=>{t.textContent=t.textContent,hljs.highlightBlock(t)};var c;c=()=>{hljs.initHighlightingOnLoad(),n(2,r=P(l,K(a),{tab:"  "}))},y().$$.on_mount.push(c),function(t){y().$$.after_update.push(t)}((()=>{l&&a(l)}));let u=new FileReader;u.addEventListener("load",(t=>{r.updateCode(t.currentTarget.result)}));let d=(t,e)=>{let n=new File([e],o),r=document.createElement("a");r.download=o,r.href=window.URL.createObjectURL(n),r.click(),t.preventDefault()};return t.$$set=t=>{"id"in t&&n(0,s=t.id),"lang"in t&&n(1,i=t.lang)},t.$$.update=()=>{259&t.$$.dirty&&(o=s[6]+".",o+="cc"==i?"cpp":i),2&t.$$.dirty&&console.log("language: ",i)},[s,i,r,l,function(t){if(t.preventDefault(),t.dataTransfer.items&&"file"===t.dataTransfer.items[0].kind){var e=t.dataTransfer.items[0].getAsFile();u.readAsText(e)}},d,function(t){$[t?"unshift":"push"]((()=>{l=t,n(3,l)}))},t=>d(t,r.toString())]}class q extends R{constructor(t){super(),I(this,t,V,z,l,{id:0,lang:1})}}function U(t){let e,n,o,r,l,u,g,h,m,y,v,$,b,_,x;return l=new q({props:{id:"editorA",lang:t[0]}}),h=new q({props:{id:"editorB",lang:t[0]}}),{c(){e=c("div"),n=c("table"),o=c("tbody"),r=c("th"),N(l.$$.fragment),u=d(),g=c("th"),N(h.$$.fragment),m=d(),y=c("button"),y.textContent="Moss",v=d(),$=c("a"),p(n,"class","svelte-1mbawed"),p(e,"id","editors"),p(y,"id","Moss"),p(y,"class","svelte-1mbawed"),p($,"id","url"),p($,"target","_blank"),p($,"class","svelte-1mbawed")},m(a,c){i(a,e,c),s(e,n),s(n,o),s(o,r),A(l,r,null),s(o,u),s(o,g),A(h,g,null),i(a,m,c),i(a,y,c),i(a,v,c),i(a,$,c),b=!0,_||(x=f(y,"click",t[2]),_=!0)},p(t,[e]){const n={};1&e&&(n.lang=t[0]),l.$set(n);const o={};1&e&&(o.lang=t[0]),h.$set(o)},i(t){b||(S(l.$$.fragment,t),S(h.$$.fragment,t),b=!0)},o(t){B(l.$$.fragment,t),B(h.$$.fragment,t),b=!1},d(t){t&&a(e),D(l),D(h),t&&a(m),t&&a(y),t&&a(v),t&&a($),_=!1,x()}}}function W(t,e,n){let{lang:o="cc"}=e,r=(t,e,n)=>{fetch("/hello",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({greeting:"Hello from the browser!",fileA:e,fileB:n,lang:o,userId:document.getElementById("userID").value})}).then((function(t){return t.text()})).then((function(t){var e=JSON.parse(t);console.log(e),document.getElementById("url").textContent=e.url,document.getElementById("url").href=e.url}))};return t.$$set=t=>{"lang"in t&&n(0,o=t.lang)},[o,r,t=>r(0,document.getElementById("editorA").textContent,document.getElementById("editorB").textContent)]}class X extends R{constructor(t){super(),I(this,t,W,U,l,{lang:0})}}function Z(t){let e,n,o,r,l;return n=new F({props:{callBack:t[1]}}),r=new X({props:{lang:t[0]}}),{c(){e=c("main"),N(n.$$.fragment),o=d(),N(r.$$.fragment),p(e,"class","svelte-161625f")},m(t,a){i(t,e,a),A(n,e,null),s(e,o),A(r,e,null),l=!0},p(t,[e]){const n={};1&e&&(n.lang=t[0]),r.$set(n)},i(t){l||(S(n.$$.fragment,t),S(r.$$.fragment,t),l=!0)},o(t){B(n.$$.fragment,t),B(r.$$.fragment,t),l=!1},d(t){t&&a(e),D(n),D(r)}}}function Y(t,e,n){let o="cc";return[o,(t,e)=>{n(0,o=e),t.preventDefault()}]}return new class extends R{constructor(t){super(),I(this,t,Y,Z,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
